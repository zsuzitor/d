????
3MIXFAZ это 3 фазы ?
2MIXFAZ это 2 фазы?
latex
полнотекстовый поиск, искать в столбцах название и тело или во всех?

разграничение по ролям какая роль что может?
левинштайн- не для поиска

есть ли аналоги?
???
+добавление fetext 
+редактирование fetext
регистрация\авторизация ---без почты
+дескрипторный поиск
добавление в избранное

просмотр похожих fetext

дескрипторы:
+редактирование
+добавление 
-удаление


полнотекстовый поиск:
+lucene
fulltexsearch - без тезауруса и без томита+near
??tomita+ngramm{
server+lucene>tomita+ng
hz how use
Install cmake 2.8, lua 5.2, gcc 4.8.1
Create directory "build/" on the same level as "src/"
cd build
cmake ../src/ -DCMAKE_BUILD_TYPE=Release
make
copy libmystem-c-binding.so from https://github.com/yandex/tomita-parser/releases/tag/v1.0 to the same folder
}

если в запросе больше 10 слов, то выбираются главные(до 10) с помощью sql server
lucene - обычный полнотекстовый поиск lucene
fullTextSearchF - обычный полнотекстовый поиск fullTextSearch
fullTextSearchCf - поиск форм слов, можно использовать (#слово) для повышения важности слова
fullTextSearchCl - поиск по вхождениям, можно использовать (#слово) для повышения важности слова



+пагинация

--
пагинация при дескрипторном поиске?
лишние контроллеры\поля методы и тдтд выпиливать
отображение нормальное
?удаление что как будем удалять fetext\descr


log
https ---

в требования к пользователю закинуть поддержку js




vozN(allaction)-дескриптор выбранного воздействия
pros-пространственные характеристики
vrem-временные характеристики
spec-специальные характеристики
param fizvel-параметрических физических величин
---------------------------------------------
		global

;;; в начало и конец скриптов
2 состояния объекта у которых нет детей и нет данных по количеству фаз
test_cs разкидать по файлам
вынести из контроллеров using 
проект->поиск->TODO
убрать удаление бд при смене структуры бд
render sections scripts
бандлы
sql иньекции??
с открытием контекста поаккуратнее, мб посокращать где можно
редирект на https при доступе без него
раскомментить проверку подтверждения почты при логине
потестить регистрацию с почтой и забыл пароль
код->1 стиль{проверить}
рефакторинг кода
раскидать все по классам

!!!!!повыписывать ВСЕ полезные куски
Цсс подогнать под мазиллу и оперу
разбить цсс и js по файлам
все изменение бд (удаление, добавление сохранение и тдтд) должно быть через post
sql запросы в цикле пооптимизировать где есть
https
#define debug убрать
TODO comm
в комментарии к методам в return добавить "результат действия ActionResult"?
подтверждение почты сейчас отключено и не работает, 
сейчас если зарегистрироваться будет исключение тк попытается отправить почту
-------------
- не делать, плохая идея
= не делать но идея норм
+надо потестить
//сделано
? не понятно нужно ли, скорее всего нет

----------------------------------------
		+-test
+-t test_cs проверить и возможно засунуть в обобщение---DeletePros DeleteVrem DeleteSpec DeleteCharacteristic
+-t Чекбоксы все таки надо сортировать хоть там и не везде есть цифры, продумать как мб буквы по алфавиту а цифры цифры
+-t те записи которые уже есть отсортировать!
+-t сейчас и далее из за транзакций будут пробелы по записям(100 102 105 и тд) проверить ничего ли это не ломает
+-t !!!!!!!!!!!!!!!!!!транзакции применить где нужно\\добавление\редактирование фэ





------------------------------------------
Dateregistration-> DateRegistration
//changerole не делать на 2 экрана?
//changerole поиск по uname
//попробовать зарегать учетку с зареганным майлом или юнеймом
там где пишется id пользователя попробовать ввести несуществующий
//поиск человека по uname вынести на отдельную страницу
там где вводится id пользователя при изменении этого поля надо убирать ссылку на его страницу
ListPhysics/ListUserAct осталась кнопка показать всех пользователей, хз нужна ли
PersonalRecord есть лишнее или нет (изменение пароля и тд)
при авторизации\регистрации справа лишнее
дозагрузка в details сделать вкладками(сверху)(1 вкладка текстовое описание, 2 вход\выход и тд)
UsersData тоже вкладки для получения инфы по разным данным
присвоение списков и фэ, попроваботь не существующие id сейчас нет сообщений об ошибках
поиск ограничить только текстовым описанием(все типы поиска, и lucene обновлять только если изменилась значимая колонка)

edit phys сейчас изменения(допустим удаленные картинки) сохраняются в html
//создание\редактирование\просмотр под латекс подогнать
кнопка запомнить меня при логине не работает

//при удалении дескрипторов нужен див в котором будут написаны id фэ которые блочат удаление и закидывать их туда
//на странице присвоения списков и фэ при загрузке все пользователей добавить кнопку возле каждого юзера для выбора его в качестве редактируемого
//кнопки удаления добавления выровнять и сделать справа в 1 строку
---класс functions раскидать   расщирением для image, нельзя сделать статическое расширение
ограничить максимальную длину ника и тд?
CreateDescription physcontr-рефактор



на странице выдачи ролей пользователей,  к списку пользователей добавить тоже кнопку

полнотекстовый индекс все таки ограничить только телом мб еще названием
"показать похожие- сравнивать только по описанию"
personal record хоть как то

!!!!!нормальная обработка всех ошибок(сейчас просто 404 статус), для редактирования\добавления нельзя терять прогресс если неудача(мб отправлять запрос и если неудача НЕ редиректить
?логирование ошибок?
класс SaveDescription- вынести в методы куски где последние id из бд получаю, возможно вынести еще и внутренние методы в их классы (add edit в pro и тд)


перед отправкой проверять на пустое значение
валидация на saveForm , длина и тд

на серве валидация(пустые значения и тд)




olddbcontext переписать что бы не было лишних классов
оптимизация обращения к бд first в цикле переписать под where contains (пример-//SetOnePhaseText, test_cs-delete)
возможно в какой то дозагрузке где есть блокировка до прихода запроса(block_load флаг), он проставтяется только если вернулся статус 200, а если 204 то прячется кнопка но флаг ен работает

применить и пометить где надо  //genered exception: NotFoundException

обратить внимание на HttpStatusCodeResult(int statusCode, string statusDescription);




//!в списках почти все функции сейчас не обновляют текущую страницу или просто показывают сообщение об ошибке даже если все выполнено
//для радио проверить если ди дети для других


попробовать списки с длинными названиями посоздавать, посмотреть где что поедет, и присваивать ФЭ с длинными названиями



при неверном id пользователя или если список\фэ не найден показывать ошибки\выделять красным поля

при создании fe возможность сразу закинуть в списки
на страницах работы с фэ проверить норм ли все отрисовывается при большом количестве данных

--(думаю не надо что бы не показывать названия)? а надо ли разрешать пользователю смотреть свои списки?метод просмотра списков пользователя кинуть в personcontroller



input text->number где нужно



сейчас при кликах вперед\назад в details url дергается и при кнопке назад возвращает на временную страницу из за блока для перелистывания записей- решение- или redirecttoaction или ajax





дескрипторная форма начала загружаться медленно после добавления объекта







Go_next_step-полностью переписать -descriptioninput



при просмотре дескрипторы всегда показывать, поля fetext по кнопке

PhaseCharacteristicObject.GetAllIdsFor(Characteristics[charac]) делает ли тоже самое что и LoadPartialTree
DescrObjectI вылидировать не при создании feobject






--------------------------
descriptionform GetFormShow   очень плохо
actions loaddescr переписать


Под действием высокого давления механические свойства — lucene не находит??????

=внешние ключи для таблиц???

при просмотре картинки серый фон не весь экран закрывает(низ), если изменить масштаб

sql server иногда перестает работать
lucene переписать
//а есть ли чекбоксы для noaction

?раскрыть аксессоры и сделать прайват поля с маленькой буквы?
OldData - заполнение объектов вынести в конструкторы
на странице изменения ролей, при вводе id отображать все роли пользователя с кнопками "удалить" и вообще все роли с кнопками добавить

olddb refactor

добавить проверку на то установлена ли семантика, и если нет то бросать исключение + не показывать этот тип поиска как доступный и не показывать кнопку "показать похожие"

изменение actionId на парметрический

=страницу с подтверждением редактирования, где будет показываться все отредактированное "старое->новое"

добавить новую 1 парметрическую строку, переключиться на использование существующих, чекбоксы не подтянутся

Семантический поиск возвращает столбцы и фильтровать по столбцу описания из эффекта


GetListSomethingV getpros и тд вынести в класс -- action controller

пагинация избранного на стороне клиента


!! проверить при индексации документов приводится ли строка в нормальной lucene, обратить внимание на 1133 запись, поиск по пуассон, в документе он "пуассона;"


атрибуты к классам
DescriptionSearchV -- есть ненужные поля??
descriptionform ->GetFormObject  нужна оптимизация, сейчас очень плохо
}
сейчас загрузка чекбокса при смене action они ищутся обычным селектом а не подгрузкой зависимостей
расшарить проект на ноуте
нормальный футер
дозагрузка для дескрипторного поиска???
прокрутку страниц можно сделать через якоря

?descrform //TODO вынести по классам в методы типо "gettext"
все протыкать не залогиневшить и посмотреть что как будет работать

возможно вообще убрать кнопку дозагрузки и отправлять при скроле вниз
ограничение на размер загружаемых файлов
обработка ошибок

--удаление, возможно полное(посмотреть как у люциана это делать)

убирать стопслова для всех типов поиска

пагинация для lucene кривая(при изменении бд)



descriptionInput при null данных для формы(только открыли страницу поиска) 2 раза строится форма и различия только в I\O при этом куча обращений к бд итд


Для добавления дескрипторов в ближайшее на id use unique

//при добавлении не просто fetext а еще и самих дескрипторов(если надо будет реализовать) проверяется название физического эффекта, нельзя создать с уже существующим именем 
//добавление не только в  fetext но и самих дескрипторов , форма в которой по порядку выбираешь и выбираешь добавить новое и тогда уже конкретная форма под пункт, либо выбираешь пункт из уже существующих
@Html.AntiForgeryToken()
#ssl #https    бесплатная генерация сертификатов https://letsencrypt.org/

--- включение iis manager  https://www.youtube.com/watch?v=kLhhvCE2IZg
https mvc
несколько ссылок https://toster.ru/q/380584
добавление сертификата в доверенные https://mfoc.ru/information/adding-certificates-in-storage/
! попробовать последние 2 шага http://www.ssl.ua/news/create-a-self-signed-certificate-in-iis-7/
Details  открыть не залогиневшись и посмотреть что вернется в ролях
form-control btn btn-default



--при поиске прокручивание страницы на результат поиска, мб еще как то подсветить\выделить
слева внизу в хэдере где ссылка на главную страницу, сделать не просто ссылку а иерархию . главная страница->дескрипторный поиск->запрос->конкретная запись
в feactions столбцы которые не используются --  fizvelsection fizvelchange fizvelleftborder fizvelrightborder



















0
EXT_ACTIONS
VOZ2_FIZVEL_1
EXT_ACTIONS
VOZ2_PROS1
EXT_ACTIONS
VOZ9_FIZVEL_3
EXT_ACTIONS
VOZ9_PROS3
EXT_ACTIONS
VOZ9_SPEC1
EXT_ACTIONS
VOZ9_SPEC8
1
INT_ACTIONS
VOZ11_FIZVEL_R5_2
2
F2
F4
F9
F11
C2
4
MONOFAZ




первоначальная информация о порядке хранения не верна, это исправленная версия
{
таблица idfe
_0_         вход
_1_         выход
_2_         характеристики начального состояния объекта
_3_         характеристики конечного состояния объекта
_4_         начальное состояние объекта
_5_         конечное состояние объекта


}


}

протестировать роли{
1 - не апрувнутая, не может ничего
2 - апрувнутая, может просматривать разрешенные физ эффекты
3 - админ назначает ФЭ и редактирует что угодно и тд

}

{





не только картинки прикреплять но и формулы в формате latex

//при просмотре и редактировании кнопки :далее назад в начало, в конец

{
2 типа полнотектового поиска
1 - поиск слова (выделить в таблице fetext главные слова и искать по ним)
2 - поиск фразы
3 - поиск текста, семантика создавать временную таблицу и тд
4 - интеллектуальный поиск

выбор где искать(в названии или описании)

}





















{ pdf
формирование pdf c#
очень хорошо с кодом и тдтд       https://habr.com/post/112707/  
еще    https://ru.stackoverflow.com/questions/653246/%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D1%82%D1%8C-%D1%84%D0%B0%D0%B9%D0%BB-pdf   
еще    http://lsreg.ru/prostoj-sposob-sozdat-pdf-na-c/
}


{

+ стоп слова   -- если в при этом с этого когда
0.5  -> сейчас в 0 5
формулы dV/V=-b*dF/S   S=10**-3 м**3 при dF=5 Н и b=10**-5 м**2/Н     ломаются

}

в запрос передавать не строку а массив мб???

надо при поиске сравнить результаты и понять как сейчас он происходит, отдельные слова\вхождения и тд?????
убирать стопслова, запятые

рефакторинг в lucene , убрать product и др слова
нужна нормализация в поиске+ выпилить передачу в результат поиска из класса всех полей кроме id
строку поиска мб надо сплитить и рассовывать по параметрам как из примера
download pdf
[ValidateAntiForgeryToken]

методы GET исправить на null id
//когда показывается результат запроса поиска, надо форму скрывать и скролить на результат

атрибуты в классы

--в списке(поиска++) отображать еще картинку?

валидация на все, что бы нчиего не ломалось+ ограничить дсотуп к методам
--можно соократить ссылки при дескр поиске, введя новую таблицу в которой будет столбец в котором коротко описан запрос(мб просто рандомом строки EF)
//xhr везде поменять на ajax
//проверить обнуление объекта в котором хранятся данные для передаче дескрипторного запроса js при смене action и клике на кнопку поиска
методы как то скрыть те к которым просто из строки поиска нельзя поучить доступ

--работа сайта с выключенным js(насколько возможно)

--в моделях technical  убрать virtual
Многопоточность в строку подключения к бд

узнать создается ли временная таблица для всех подключений к бд при многопоточности




@Scripts.Render("~/bundles/jqueryval")   in createInput    99% что такого бандла сейчас нет




---------------------------------------------------------------------------------------------------------INFO------------------------------------



{  томита и смежное
томита парсер how to use
 разобраться что это , мб применять https://tech.yandex.ru/mystem/
https://tech.yandex.ru/tomita/
https://github.com/yandex/tomita-parser/


//-----------------------------
падежи без томиты, склонение
http://morpher.ru/Products/DLL/DotNet.aspx    подробно  Morpher.dll 
http://yeaahcode.blogspot.com/2015/01/lingvonet.html   LingvoNET           небольшой кусок кода http://www.cyberforum.ru/csharp-net/thread1127563.html
https://github.com/miyconst/Cyriller     склонение есть nuget


}





{
полнотекстовый поиск через n граммы
сначала "томита парсер от яндекса", бьет запрос на группы(по несколько слов) которые связаны друг с другом по падежу, эти группы уже сравнивать левинштайном

N. Граммы
Томита парсер яндекс
Вытащить сущ по падежам
Потом левинштайна По падежам

}

#lev
{ левинштайн для определения ошибок
Словарь слов, по нему сравнивать слова запроса левинштацном если 1-2 расхождения то искать его, заменять его в запросе, дальше обычный поиск
WHERE levenshtein("BNNBKF",metaphone)=1
damlevlim("BNNBKF",metaphone,20)=1

есть код на c# сильно модифицированный  https://habr.com/post/331174/
}




full text search sql server
{
!!!!!!!!!!!!!!!!!!!!!!TODO 
важно, все перечитать
//Попробовать проиндексировать пустую бд через фул текст сеарч и потом заполнить и поискать , Если не будет найдено, Если не найдется значит надо добавлять в индекс новые данные
http://sqlcom.ru/helpful-and-interesting/full-text-search-main/

Тезаурус чуть чуть   http://jarrettmeyer.com/2017/06/11/sql-server-full-text-search-part-1
Добавить в поиск звезду ? В двойных кавычках что бы искать вхождения    * только для contains
Подумать искать ли по #слово или просто слово
взвешенные значения,(посмотреть код для ограничения списка результата поиск по словам "Ниже приведено расширение того же запроса, которое возвращает только строки с рангом 10 или выше.")   https://docs.microsoft.com/ru-ru/sql/relational-databases/search/query-with-full-text-search?view=sql-server-2017
- https://info-comp.ru/sisadminst/486-full-text-search-ms-sql-server.html

стопслова https://docs.microsoft.com/ru-ru/sql/relational-databases/search/configure-and-manage-stopwords-and-stoplists-for-full-text-search?view=sql-server-2017
тезаурус https://docs.microsoft.com/ru-ru/sql/relational-databases/search/configure-and-manage-thesaurus-files-for-full-text-search?view=sql-server-2017


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
можно указать расстояние между словами при NEAR()    --- where contains(...,'near((word1,word2),count_word)')
where freetext(*,'word1 and word2')   поиск этих слов независимо друг от друга(если будут оба мб ранг будет выше, пока хз), если искать word1 то word1qwe тоже найдется
contains(*,'formsof(inflectional,word1)')   поиск формы слова


select * from
freetexttable(dbo.FeTexts,*,'архимед газ ток')as t join dbo.FeTexts as y on t.[KEY] = y.IDFE order by RANK desc;
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


общая статьяhttps://docs.microsoft.com/ru-ru/sql/relational-databases/search/query-with-full-text-search?view=sql-server-2017
тизаурус, синонимы   https://docs.microsoft.com/ru-ru/sql/relational-databases/search/configure-and-manage-thesaurus-files-for-full-text-search?view=sql-server-2017


немного инфы, но поиск тут так http://dbasimple.blogspot.com/2012/08/ms-sql-server-2008-full-text-search.html
немного инфы, поиск так, но стоит пересмотреть  https://info-comp.ru/sisadminst/486-full-text-search-ms-sql-server.html
тоже стоит посмотреть англ https://www.sqlshack.com/hands-full-text-search-sql-server/


хороший видос(надо смотреть ) https://www.youtube.com/watch?v=hUOwCf61xXo
тоже норм   + тут про тизарус(расположение)            https://www.youtube.com/watch?v=swGn2B1sSMA















ошибка при переиндексации, мб где то еще 
решение SET IDENTITY_INSERT [dbo].[Persons] ON;  //-позволит вставлять с предопределенным id и возможно дублирующимся



!!!!!!!!!!!search
реализация полнотекстового поиска c#
статья с кодом для полнотекстового поиска https://habr.com/post/189806/
sql поиск   https://docs.microsoft.com/ru-ru/sql/relational-databases/search/full-text-search?view=sql-server-2017
http://qaru.site/questions/420668/how-hard-is-it-to-incorporate-full-text-search-with-sql-server

//И с люцианом также сделать и подумать как обойти(проиндексировать пустую бд, и потом подобавлять, это будет как проверка и можно тестить)
   Lucene.net    

надо посмотреть http://sonyblogpost.blogspot.com/

   длинно, зд                        http://sonyks2007.blogspot.com/2015/04/lucenenet.html
   длинно, зд                        https://www.codeproject.com/Articles/187799/LuceneWrap-A-Compact-Lucene-net-Wrapper
!  коротко основа                 http://www.waveaccess.ru/blog/2014/september/02/%D0%BF%D0%BE%D0%BB%D0%BD%D0%BE%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%B2%D1%8B%D0%B9-%D0%BF%D0%BE%D0%B8%D1%81%D0%BA-%D1%81-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%D0%BC-apache-lucene.aspx
                   https://www.codeproject.com/Articles/609980/Small-Lucene-NET-Demo-App
!  коротко основа                 https://pavelbelousov.wordpress.com/2011/03/20/%D0%B7%D0%BD%D0%B0%D0%BA%D0%BE%D0%BC%D0%B8%D0%BC%D1%81%D1%8F-%D1%81-lucene-net/
!  коротко основа                 https://www.codeproject.com/Articles/29755/Introducing-Lucene-Net
!  видос с кодом  коротко         https://www.youtube.com/watch?v=TnYDeJkULKc
   видос норм, код короткий       https://www.youtube.com/watch?v=Lv2wJRvSddw
   видос норм, код короткий       https://www.youtube.com/watch?v=E7i1krQVRzI
   видос норм, код короткий       https://www.youtube.com/watch?v=F4cB7su-Pyc
!                                 https://csharpdreams.wordpress.com/2012/10/01/simple-search-engine-in-c-with-lucene-net/


 lucene{

PorterStemmer.cs ---      ???       https://lucenenet.apache.org/docs/3.0.3/d7/db1/class_lucene_1_1_net_1_1_analysis_1_1_porter_stemmer.html
под англ, но сам класс и тд мб норм https://lucenenet.apache.org/docs/3.0.3/de/db6/core_2_analysis_2_porter_stemmer_8cs_source.html


что то про подсветку, посмореть подробнее https://www.sql.ru/forum/547218-2/lucene-stemmer-dlya-russkogo-yazyka

нормализация слова lucene.net
steaming
lucene.net Normalize word
код с форма, хз https://stackoverrun.com/ru/q/7395981
stemming lucene.net
}















{  #ssl #https
https://ru.stackoverflow.com/questions/433491/%D0%9A%D0%B0%D0%BA-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C-%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-mvc-%D0%B4%D0%BB%D1%8F-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-https-%D1%81%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5

pkcs12 -export -in client.pem -inkey client-key.pem -out client.p12 -name "Cert friend name"


pkcs12 -export -in client.pem -inkey client-key.pem -out client.p12 -name "Cert friend name" -certfile CACert.der
pkcs12 -export -in "cert.txt" -inkey "pricate.txt" -out "my-cert.p12" -name "name of cert"

asp.net mvc https
open ssl как сгенерировать сертификат


не работает https://oxozle.com/2013/08/31/nastrojka-ssl-dlya-asp-net-iis-servera/
не пробовал https://www.youtube.com/watch?v=BDbpD2V5aj8
https://www.youtube.com/watch?v=Gj-LL8CnG98



краш
https://www.youtube.com/watch?v=DyfyYRst3bg
genrsa -des3 -out server.key.secure 2048
pass physsofi
}





#code

SELECT value FROM STRING_SPLIT('Lorem ipsum dolor sit amet.', ' ');








//db copy   error

"доп строки в таблицах"  -в некоторых таблицах id прыгает  1 2 3 10 11 ...

actionPros  actionId не копируется, и начинается с 1 а в старой бд с 208
actions  id  - id с 1 а в old с 134
actionspec actionId с 1 а в old 212
actionvrem actionid 1         212
feindexes    на 30 строк больше получилось хз откуда и почему
fetext    на 30 строк больше










----------------------------------------++++++++++++++
//!!!!для fetext нет feobject -- @список таких фэ, им надо пустые закинуть@

//запись с id 1 сломана feindex



--FEObjects!
select FETexts.IDFE from FETexts
left join FEObjects
on FETexts.IDFE = FEObjects.Idfe
where FEObjects.Id is null




--FEActions !
--go
drop table  tbl;
--go
--create table #tbl (id int)
select Idfe into  tbl  from FEActions 

--declare @count int;
--set @count =count(#tbl);
--declare @i int;
--set @i=0;

select FETexts.IDFE from FETexts where FETexts.IDFE not in (select * from tbl) 





select * from FEObjects where Idfe = 1211


select * from FETexts
left join FEObjects 
on FETexts.IDFE = FEObjects.Idfe 
left join FEActions
on FEActions.Idfe=FETexts.IDFE 
where FETexts.IDFE = 1282



--группируем id тех у которых что то не в порядке
select FEObjects_.IDFE as idfe1,FEActions_.IDFE as idfe2 from (select FETexts.IDFE from FETexts
left join FEObjects
on FETexts.IDFE = FEObjects.Idfe
where FEObjects.Id is null) as FEObjects_
full join (select FETexts.IDFE from FETexts where FETexts.IDFE not in (select Idfe from FEActions )) as FEActions_
on FEObjects_.IDFE = FEActions_.IDFE




пустая форма дескрипторы
VOZ1
NO_ACTIONS
NO_FIZVEL

MONOFAZ



















//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//при просмотре записи не залогиневшись, выбрасывается исключение, тк попытка получить роли
//!!! как будут отрабатывать чекбоксы при множественном выборе
//чекбоксы-> радиобаттоны и после этого редактирование поправить(сейчас оно чекбоксы просто трет, тк отправляется формой а не js)
//редактирование
//при загрузке заполненной формы с параметрическим параметром проверить отображение
//при смене actionid в форме сократить до 1 запроса
//при смене actionid в форме отправляется "NULL" а не null
//public ActionResult ChangeAction(string fizVelId, string prosId, string specId, string vremId, string type)
//     {
//прос и тд не нужны
//js var formData={  убрать лишние параметры и не передавать их
//но это после того как останется 1 запрос при смене 
//}
//!полный функционал просмотра картинок
//! в конструкторах DescrSearchIOut и inp сейчас самый первый параметр не проставляется? тащить из бд надо
//DescrSearchI.Validation(inp) в редактировании и добавлении надо валидировать этой штукой
//все поиски проверить как будут работать с добавлением данных
//в descriptioninput.cshtml попробовать удалить js который отправляет запрос на обновление формы при старте страницы, сейчас уже должно что от отрисовываться
//{
//форма дескрипторного поиска -- сделать заполнение не ajax запросом, а при построении формы, + передавать параметры туда
//PartFormDescrSearch    --- в хелперах поправить отображение с них, и туда закидывать данные в параметрах, а не запросом
//descriptionsearch.cshtml  {
//@Html.Action("DescriptionInput", "Actions",new {inp= ViewBag.inputForm,outp = ViewBag.outpForm })
//поменять на url.action   и посомтреть что сгенерит(будут ли ошибки из за одинаковых названий или будет рабочая ссылка)
//и в зависимости от результата решить разделять ли в searchcontroller DescriptionSearch  входные параметры
//и мб DescrSearchIInput вообще выпилить
//actions DescriptionInput   если пустые то надо заполнить
//}
//}
//tsql scripts  скрипты загружать из файла   http://qaru.site/questions/58466/how-to-execute-an-sql-script-file-using-c
//в дескрипторном поиске parametricfizvel не отбрабатывается никак  select * from Operands where Value = 'МАССА (КГ)'
//DescriptionForm res = DescriptionForm.GetFormObject();   надо что бы принимал параметр name и по нему строить форму
//в searchc  list_id = FEText.GetByDescr(inp, outp);   странно меняет inp & outp
//в дескрипторном поиске не учитывается поле actionId(I\O) и соответственно при добавлении тоже и хз надо ли учитывать
//открыл details без id -> исключение
//create edit разделить
//когда ищу люцианом в TempData записывается порезанная версия запроса, исправить
//на страницу редактирование fetext добавить кнопку для просто просмотра записи(выхода из редактирования)
//дескрипторный поиск сломался, почему пока не знаю исправить
//actionscontroller -> descriptioninput   вынести оттуда кнопку "поиск" ????
//physic controller -> Create  view часть, форма должна полностью рисоваться, но делать ничего не будет тк нет js части, надо сделать как в DescriptionSearch.cshtml
//подумать над поменением контекста в синглтон      , как будет определяться надо ли присоединять к контексту который вернется методом, мб у конекста id есть(хотя ничего не даст)
//после полнотекстового поиска в форме запроса отображать текст по которому ведется поиск
//когда открывается форма дескрипторного поиска по заполненной ссылке на него, надо форму отрисовывать правильно(по запросу) а не чистую
//возможность открыть фото для просмотра
//Попробовать поиск строки с несколькими словами
//Сплитить и передавать как в примере
//в phys контроллере  //TODO мб убрать условие, но надо потестить тк там редактирование
//подумать как переиндексировать бд при занесении новых записей
//вынести ajax запрос в отдельный метод и просто юзать его+ в него прелоадер
//прелоадер
//когда редактируешь и сохраняешь запись fetext отображается страница "просмотр" но линк сверху для редактирования
//Go_next_step   ->descrinput сейчас id не берет с дока, и вообще надо брать с jsс того объекта
//в форме сейчас чекбоксы вообще не работают(и не отправляются, и не дозагружают то что должны)  + некоторые(Пространственные характеристики) ошибку в js оставляют тк пытаются на серв undefined отправить
//поправить лейблы в форме для поиска, сейчас они точно не правильные < возможно нет id и нет value
//при дескр поиске, вход и выход вынести на 1 страницу=> переписать js имена id и тдтд, не обновлять страницу при дескрипторном поиске, но обновлять ссылку
//descriprionSearch отправлять данные для поиска get запросом, что бы адрес запроса отображался
//при дескрипторном поиске чекбоксы не отправляются, и они без id подумать как и получать и отправлять+ поиск по ним
//проследить что бы всегда перезаписывались парметры при отправке 1 части формы  data_descr_search.have_input = null;//TODO записсывать потом чистить, такое  descriptionSearch view
//actionpro и тд это не отдельные классы, это таблицы для связи многие ко многим-> крассы выпилить те что остаются переопределить + API + выгрузку из sofi переопределить
//GetListSelectedItem    засунуть под обобщение через доп параметр с типом
//классы разобрать + раскоментить связи в классах
//доп таблица для картинок
//дописать методы для переноса старой бд
//определить роли
//применить роли
//определить логи
//применить логи
//добавление записей
//поиск декср
//поиск текст
//редактирование записей
//проверить вешается ли роль vip на admin
//удаление картинок при редактировании
//в header сделать поле для ввода строки поиска, и при скролле вниз что бы оно складывалось в тонкую линию хэдера
???????????????????????????????????
//спросить про дескрипторный поиск, как делать так как надо или как в проекте челика
//спросить что за 2 входные параметры и выходные, что там вообще в них
//логи, что должно храниться
//полнотекстовый поиск как реализовывать??   -- sql, Левинштайна, python
????????????????????????????????????????
//слиты бд в 1
//авторизация регистрация
//слиты 3 проекта
//показывать похожие документы+ доделать view часть
//!просмотр дескрипторов для записи по нажатию на кнопку, причем не стандартной формой  как при редактировании а другой, без дроплистов
//проверить еще раз дескрипторные формы нормально ли отображаются при редактировании
//вроде параметрический параметр "не выбрано" продублировался
//! load old data переписать под норм запросы в классе database
//при редактировании lucene точно не будет менять данные для записи
//  посмотреть в предыдущих коммитах можно ли добавлять фотки
//при редактировании не удалять блок с картинкой а прятать и рисовать ссылку восстановить
/-?-?-/как минимум при создании нелья загрузить картинку тк окно просто не открывается в хроме(причем при редактировании работает)
--возможность листать картинки
-сделал подругому-отображение картинок, находить бульную сторону и растягивать ее на всю сторону дива, другую стотону img не троагать , картинку размещать по центру.
//запретить выбирать ребенка чекбокса если сам чекбокс не активен,это нужно проверять в редактировании и добавлении
//нормальное отображение формы 
//для последних чекнутых чекбоксов тоже грузить детей
//старую бд надо поправить pros и тд, надо в порядке возрастания + родителей
//просмотр дескрипторов в details
//заполнение формы данными
//обратить внимание на Details/923  ,подтягивается spec тот которого вообще нет в деск поиске, надо пересмотреть тот проект
//проверить редактирование с картинками нормально ли сохраняется + добавляется новое
//хелперы вынести в методы контроллера
//кнопка поиска на index сейчас ведет не туда
//labelfor где нужно(минимум чекбоксы)
//кнопка очистить форму
//скрывать показывать дескрипторную форму
//потестить все, тк все viewbag переписал под классы
//!передачу в view сделать через view классы
//конструкторы для view классов
//откатить изменения и перписать логику с хранением подтягиванием чекбоксов
//исправить логику чекбоксов
//регистрация с подтверждением почты
//забыл пароль

//семантический поиск //-определение схожих записей в 1 таблице, => для поиска не подходит-тк можно найти главное слово в табл записи, можно запрос сначала логировать а потом в нем искать(в бд)
-решил оставить так в форме если выбрать параметрический параметр 1 , то лэйблы чекбоксов не пропадут, они отрисовываются в partFormDescrSearch
//DescrSearchIInput и DescrSearchI продумать и оптимизировать . DescrSearchIInput оставить только там где нужно с вью получать данные
//и в DescriptionSearch  TODO связанный с этим костыль убрать
//валидация редактиварония\добавления{
// - запретить выделять детей чекбоксов если он сам не выбран
//сейчас если что то искать не залогиневшить все сломается на добавлении логов, тк они связаны с юзером
//при редактировании не правильно отображаются чекбоксы возможно только для старых записей(отображаются не установленными хотя должны быть установл Physic/Edit/923
//деск поиск не правильно ищет возможно только для старых записей Physic/Edit/923
//обратить внимание на дескр форму Physic/Details/1114
//логгирование проверить имя действия и контроллера норм ли сохраняется
//дескрипторный поиск событие changeFizVel установлено не на селект, а на див - поправить
//descrinput\outp еще раз попробовать засунуть под 1 
//!!добавление дескрипторов
//проверить какой вес стоит на словах без # точно ли это норм работает
//избаранное
//при создании дескрипторов выдавать им временные id
---???удаление\сокрытие физ эфектов
//кнопку при поиска по центру
//блокировку на запросы по клику на чекбокс , и при закрузке отслеживать его текущее состояние тк в теории это может все сломать
//для action "электрические и плазменные волны" - не подтягиваются временные характеристики , большая вероятность что и не должны

//закрытый профиль
--добавление новых эффектов кем угодно(флаг нот апрув), добавить авторство?
//Добавить страницу изменения ролей для админа -AdminController
//sql server semantic search example
//семантический поиск sql server пример
// CreateSomething вынести из phys
//имя и id списка как то выделить\разделить что бы было подписано
//кнопка просмотра пользователей которым выдан список
//под id пользователя добавить кнопку для отображения списка пользователей
//[Required(ErrorMessage = "Название должно быть установлено")]   ,  [MinLength(5)] для listphys
//на стрице присвоения ФЭ, в спиике листов при клике на название списка кидать на страницу ListAct и выделять нужный список
//просмотр списка списков с id!
// при добавлении\удалении фэ из списка надо пробежаться по всем пользователям и добавить\удалить фэ
// при выдаче списка проверять не только есть ли он у пользователя но и проверять выданы ли все ФЭ из этого списка, мб придется выдать не список целиком а только фэ
// Go_next_step функция должна быть не в descriptionInput тк она затрагивает форму объекта, нужен более общий метод для ObjectInput и descrInput
// добавить метод который отрисовывает всю форму
//DeleteFromCurrentList потестить + точно справа не обновляется список
//при изменении названия, (//удаления списка) слева надо актуализировать список
//search Phisic->Physic
//в details все это "листание" сейчас выглядит очень плохо(просто ссылками и кнопками)
//GoPrevPhysics & next вернет 404 при переходе с 1\последней записи, -- начинать с другого конца\уведомление\показывать текущую запись
//кнопка очистить форму сейчас не очищает объект
//дескрипторный поиск при возникновении ошибки на серве заменяет на странице блок и отображает там ошибку тк я вместо cuccess поставил complite , исправить
//состояние тоже надо хранить! и использовать
//радио для объекта починить
//DescriptionInput- count input сейчас не обрабатывается
//GetByDescr сейчас не работает вообще
//скрывать прелоадер принеудачных запросах
//data_descr_search обнулять в файлах скриптов,добавить поля,descr search-goSave
//при смене парам физвел не чистится data_descr_search , точно ли это правильно. попробовать загрузать чекбоксы,отправить запрос, потом парам и посмотреть что отправится
//при очистке формы прятать все инпуты и выходы кроме 1
//descrsearch-clearForm - хардкод
//в fetext возможно тоже есть пробелмы по id и поэтому не правильно подтягиваются дескрипторы
//вытащить из index homec нормальное заполнение feobject
//придется переписать выгрузку в feobject
//var test= db.FEIndexs.First(x1 => x1.IDFE == 1114);
//                var g=test.Index.Split(new string[] { "\u0000", "\u0001", "\u0002", "\u0003", "\u0004" },StringSplitOptions.RemoveEmptyEntries);
//запрос на отображение страницы редактирования ограничить для семантического fe и на сохранения редактирования тоже
//"показать объект" не реализовано для фэ
//feobject те 7 колонок хранят все а не только детей, переписал
//fullTextSearchSemantic - только для админа
//тк кнопка прячется ее надо показать при изменении строки запроса
//полнотекстовый поиск, нажал на звезду стала желтой, нажал еще раз пропала
//для семантического поиска сделать что бы 1 запись в бд была для того что бы ее заполнить
//семантический поиск только для админа
//насильное обнуление записи для семантического поиска
//еще тип поиска- сначала стем lucene для строки входной потом выгружаем из fetext всю таблицу но только с главными словами, и потом ищем нграммами
//создавать обычную таблицу и блокировать ее пока с ней работает пользователь и для этой таблицы уже стоить индекс и делать что угодно
//допустим 1 запись в таблице всегда та которую будем искать, и когда не ищем просто обнулять поля
// - fullTextSearchNear сделан, отлажен , ошибки исправлены
//при поиске в хранимых фэ выделять главные слова и искать только по ним
//подумать + попробовать сделать  fullTextSearchSemantic https://metanit.com/sql/sqlserver/10.4.php
//[Authorize] к основным контроллерам
//запретить создавать фэ пока не выбрано состояние полностью(до фаз)
//при создании фэ проверять наличие объекта и дескрипторов
// отображение дескрипторов текстовое сейчас скорее всего отобразит 1 вход только
//назначение применени ролей(при регистрации, страница апрува)
//при редактировании объекта  2 состояние спрятано и все фазы тоже -
//{
//при создании State не заполняется
//конструкция в этом цикле не правильная тк там есть null а они не должны добавляться(сейчас всегда в любом случае добавляются 3 фазы-не правильно)
//тестил при редактиронии idfe-50 fetext
//foreach (var i in objForms)
//FEObject(DescrPhaseI a, int idfe, int begin)
//}
//проверить редактирование fe особенно при нескольких входах
//редактирование не правильно сохраняет все что связано с объектом
//поменял изменение состояния теперь ошибка
//попробовать передавать параметры через data: "primer=" + primer
//var menuSetup = {
//  width: 300,
//  'height': 200,
//  "мама мыла раму": true
//};

//data: "primer=" + primer+"&primer2="+primer2,

//попробовать через объект
//var menuSetup = {
//  width: {val:1},
//  'height': 200,
//  "мама мыла раму": true
//};
//}


//{
//страница на которой можно создать список физ эффектов
//на ней можно выдать конкретный физ эффект человеку
//выдать человеку созданный список
//и соответственно все выданное забрать
//}

//иерархия хранится в таблице thes и theschild

//{ дескрипторный поиск
//входов может быть 1 или 2, выход всегда 1
//}
--- if (currentActionId != null && massAddFizVels.Count > 0 && currentActionParametric != null)  -- нет смысла выгружать все
кнопка для обновления(восстановления оригинального имени)         
//для добавленных fizvel parentid сейчас равен старому id а не родителю
//не отрисовывать paramfizvel  пока не выбран fizvel
//при выборе нового fizvel не загружать param 
//при добавлении нового fizvel добавить  ему параметрические, скорее всего сломается сейчас тк currentFizVels будет старым id
//Olddbcontext. Закрывать подключения
//когда меняем чекбокс у нового action на параметрический нужно пройти по fizvel и спрятать\показать чекбоксы
//при определении MAX проверять не вернуло ли оно 0, и что будет если коллекция пустая
//при добавлении fizvel пробежать по parametric и обновить parent
//Parametric для fizvel при загрузке старой бд
//нажать кнопку сохранить не выбрав некоторых частей(например fizvel or actionid)
//при параметрическом не загружать параметрический список пока не выбран fizvel
//попробовать удалить все дескрипторы из бд и посмотреть формы редактирование и тдтд  ACTIONID
//при первоначальном отображении не загружать ничего кроме 1 линии
//чекбокс для параметрического нового отрисовывать только при выделении
//в методе CreateDescription не загружать все, грузить только actionId
//ПАРАМЕТРИЧЕСКИЕ зависят не от типа а от физвела
//для групп не select делать а просто по порядку input и рядом чекбокс для выбора
//перед отправкой отсеивать лишние чекбоксы(по части id, где тип)
// страницу добавления сделать плитками как выбор раздела в server info mvc
//helpers actions одни и теже методы различаются только постфиксом EDIT ->рефакторинг
//AParentDb — тип id в обобщение и ограничение на структуру???
//Item-> ItemDescrFormCheckbox
//id name parent- вынести в еще 1 интерфейс
//newid не используется?
//вынести работу с дескрипторами из контроллера
//переписать replacewith на innerhtml
//когда "отжимаем" кнопку "изменить" проверить изменилось ли значение, и если нет удалять из массивов и не отправлять
//ChangeAction хардкодом прописан 1 элемент(вроде)
//поубирать хардкод для параметрического дескриптора VOZ11
//сейчас надписи над строками в форме дескрипторного поиска плохо отображаются, лучше их вынести вообще на фронтэнд
//fetext GetByDescr    закомментил, пока хз как норм(логика и код) сделать
//для состояния смесь возможно не дозагружаются дети
//меотды типа get(pros) попробовать использовать не только при дозагрузке но и при просто отрисовке?

//Не забыть про то что строка запроса изменяется при дескр поиске
//Изменять строку запроса при полнотекстовом поиске
//Может передавать 1 строкой json Дескр параметры
//перепроверить дескрипторный поиск, тк дескрипторы и поля fetext должны совпадать
//PhaseCharacteristicObject вынести в файл
//запретить удалять основные характеристики на фронтэнде
//на чужой странице в списке фоловов хоть и нет звезды, но есть кнопка по которой можно добавить к себе
//restoreInput_but_  - разбить на phase\state
//{
//TODO записать в mvc #innerhtml
//создание&&работа с списками, при дозагрузки данных сбрасывается выделенные radio checkbox
//$('#discussion').append('<li>');
//}
//добавлять элементы надо не через innerHTML, тк все введенные данные сбрасываются(значения полей, радио, чекбоксы и тд)
//добавление\редактирование фэ через ajax
?-вроде не актуально, повторить не смог-?при редактиктировании параметрич физвел не подтягивается строка с "не выбрано", но в дескрипторном поиске оно есть
// на странице пользователя если просматривает админ добавить кнопку для просмотра ролей (мб страница с похожей логикой уже есть), //(уже есть на странице useract)для просмотра списков и для просмотра фэ
// просмотр страницы пользователя проверять роль того кто запрашивает если не admin то сравнить id и если не своя страница то не пускать
// семантическую запись ограничить в выдаче добавлении в избранное и тд(с ней нельзя делать вообще ничего)
// CheckAccessPhys изменяет порядок- так нельзя
// ApplicationUser,fetext пробежаться по методам и добавить ограничения на получение фэ по ролям  +physC, searchC
// ограничивать по спискам
//  для физ эффекта просмотр к каким спискам принадлежит
// для списка просмотр пользователей которым выдан(Выдан пользователям, на странице создания списков при выборе списка)
//редактирование\добавление дескрипторов объекта
//создание дескрипторов\объекта
//работу с дескрипторами доделать(удаление всего и тд)
//метод CreateDescription должен что то возвращать, и его ответ должен обрабатываться сейчас не обрабатывается(запрос ajax -> редирект юзлес)
???при параметрическом action(не новом) не разрешать множественное добавление fizvel
??? не добавлять fizvel если он не выбран
//кнопки удалить не работают
//удаление не только чекбоксов backend/front
---при удалении actionid надо прятать(и чистить данные) все если оно выбрано(хорошо бы но и так норм)
--при удалении пробежать по массиву добавления\редактирования и удалить лишнее БЭКЭНД---(хз надо ли тк сохраняется только то что есть на экране)
--при удалении прятать кнопку "изменить"
--при удалении позже может редактироваться, тк из массива для редактирования не удаляется при удалении
--дескрипторы не удалять а проставлять флаг удаления? и при редактировании подписывать что дескриптор удален, если он буд прикреплен к fetext но не отображать как возможный вариант если не прикреплен
//если удалять полностью из бд то обязательно удалять с детьми
//не только удаление но и восстановление удаленных
//в форме добавления дескрипторов, еще и редактирование\удаление, при удалении родителя удалять всю ветку
//"показать похожие" попробовтаь для новой плохой записи для которой ничего не найдется
//при редактировании если чекбокс установлен и его снять пытается загрузить детей, что бесполезно тк они уже должны были быть загружены если они есть
//при создании редактировании фэ проверять что бы состояние "могло иметь" фазы в бд
//при создании и редактировании надо сравнивать количество реальных входов с числом которое указано и так все параметры
//при неудачном добавлении фэ и обновлении страницы отправляется пустая форма, она все ломает
//create phys если на серве ошибка и нажать кнопку назад то все фазы станут display:none тк по умолчанию они в спрятанных дивах которые надо показывать js
//отправлять данные ajax
---addtodb\ChangeDb uploadImage - приходит всегда с 1 элементом- null , ничего не ломает отсеивается при вытаскивании байтов
//проверить картинки при редакировании
//db убрать из контроллеров

//при удалении чекбокса родителя необходимо отметить к удалению и детей(возможно удалять бэкэндом, а тут просто предупреждение)
//в details просмотр объекта также как дескрипторов 
//phys controller CreateDescription  по методам раскидать мб полный рефакторинг
//createsomething вынести в цикл добавление плиток
//createsomething не на все сейчас заданы ссылки
//{
//FEText.GetByDescr(    --вроде работает но надо обязательно оптимизировать, !!!!!!!!!!!! не сравнивает состояние
//проверить
//нужно ли сортировать чекбоксы???????? сейчас для объекта не сортируются
//DescrPhaseI  SortIds не знаю как работает сейчас
//}
//роли в выпадающем списке
//вкладку "добавить" переименовать в Admin
//надо в feindex посмотреть с пустыми данными фэ и посмотреть где он как будет работать  и просто заполнить пустыми данными
//списки физ эффектов, только для упрощение выдачи\удаления, по ним определять можно ли просматривать или нет- нельзя
---не делать удаление?-при удалении фэ предупреждать если он принадлежит списку который выдан пользователю
---не делать удаление?-при удалении фэ посмотреть не сломается ли список к которому он принадлежал
//доп параметр name в логи
//fetext GetByDescr
---GetBase для чекбоксов
---хранить stateobject в feobjects??
-в feaction нужно поле которое будет указывать порядок при нескольких input???  и тогда GetByDescr дополнить, что бы не по количеству сравнивать дескр
???для DataBase перегрузить disposable и разрешить выполнять запросы создавая объект и не закрывая подключение
--проверка загружаемых файлов
//подумать над запросом на создание\редактирование - отправлять ajax(с фото) что б можно было вывести ошибку и отредачить или хотя бы перезагрузкой но с возвратом той формы
// DescrFormFizVels,DescrFormFizVelsEdit--- хардкод
//страница о программе - расписать типы поиска
//DescriptionSearch подумать о разделении на post\get
//{

//не только # но и () для определение слов которые должны быть рядом
//https://www.red-gate.com/simple-talk/sql/database-administration/exploring-semantic-search-key-term-relevance/

//}
//n граммы + ... посмотреть -поиск n грамм c#
//Sphinx
//хз         https://ru.stackoverflow.com/questions/824324/%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%B2%D1%8B%D0%B9-%D0%BF%D0%BE%D0%B8%D1%81%D0%BA-containstable-%D0%B8-%D0%BA%D0%B0%D0%B2%D1%8B%D1%87%D0%BA%D0%B8-%D0%B2-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B5-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F

//если загружен  полный список то кнопку для дозагрузки убирать
//ввести поиск по хештегам -- как обязательный параметр
//пагинация результатов поиска
//если при создании добавить несколько картинок(5+) то исключение "превышена максимальная длина запроса" //решение http://qaru.site/questions/11863/maximum-request-length-exceeded
//changeaction.js   data_descr_search.actionIdI= null; возможно надо не null а ''
//при маленьком экране много что съезжает( в хэдере, и в полном варианте и в полоске)
--оптимизация поиска, сейчас при пагинации ищется вся коллекция и потом она обрезается, надо linq переписать под tsql
//роли
//using убрать из всех контроллеров
--удаление сущностей из бд
//в дескр поиске, все таки открывать 1 контекст?
//подтверждение по почте
//sql иньекции??
//TODO вынести в функцию(fulltextsearch скрипт) sql server и юзать уже из linq
\\\умеет ли lucene находить главное слово и связные слова?
\\\поискать что кроме томиты умеет так делать, и если реализовывать самому то реально ли
\\\окончание падежей, и связи с другими словами


//записать названия старых полей возле названий новых комментами что бы ориентироваться
//Хранить длину fetext и ограничивать расстояние левинштейна им
--в поиске сделать новое окно для параметров поиска(реализовать ползунки????), (количество,качество(сколько % показывать))
--показывать результаты поиска только с точностью 80%(+-) а больше показывать по кнопке "показать больше" -> передавать в запросе  новый параметр для снятия ограничения и мб еще от количества тоже скелилось
//определять значимые и не значимые слова надо
//репозитории почистить и выбрать ветку, мб удалить все



--?при изменении свойств DescrSearchIInput и out надо менять флаг valid
//!!!!при удалении дескрипторов\ характеристик объекта- подумать что делать с записями физ эффектов{
//1 При удалении дескрипторов находить фэ и удалять у них ссылки на дескрипторы
//2 после редактирования на странице подтверждения показывать записи которые нельзя будет найти если эти изменения принять
//3 не разрешать удалять пока пользователь не исправить это
//}
//сейчас нет(уже есть, надо проверить все удаления) удаления списков и фэ у юзера
//!!!что если descrObjectI модифицировать до коллекции???? добавить []  , поиск #[]  вынести в свойство
//#feobject{
//select [Idfe] from FEObjects group by [Idfe] having count([Idfe])>1 order by [Idfe];
//idfe5 обратить внимание в таблице 2 записи и обе input, все нормально это разные фазы
//сейчас специальные записываются не правильно(предыдущий чел не правильно распарсил) пишется "С 1" хотя должно быть "С1" и тд
//idfe==4// разбор из оригинальной таблицы thes, цифр 3 и 5 не нашел для fe4, 
//в logparam имя добавить + заполнять
//при работе с списками везде ли я нормально сделал обновление данных?
//индексы для логов убрать













































































