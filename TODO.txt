при добавлении не просто fetext а еще и самих дескрипторов(если надо будет реализовать) проверяется название физического эффекта, нельзя создать с уже существующим именем 
в descriptioninput.cshtml попробовать удалить js который отправляет запрос на обновление формы при старте страницы, сейчас уже должно что от отрисовываться
{
форма дескрипторного поиска -- сделать заполнение не ajax запросом, а при построении формы, + передавать параметры туда
PartFormDescrSearch    --- в хелперах поправить отображение с них, и туда закидывать данные в параметрах, а не запросом

descriptionsearch.cshtml  {
@Html.Action("DescriptionInput", "Actions",new {inp= ViewBag.inputForm,outp = ViewBag.outpForm })
поменять на url.action   и посомтреть что сгенерит(будут ли ошибки из за одинаковых названий или будет рабочая ссылка)
и в зависимости от результата решить разделять ли в searchcontroller DescriptionSearch  входные параметры
и мб DescrSearchIInput вообще выпилить
}
}

при поиске прокручивание страницы на результат поиска, мб еще как то подсветить\выделить
слева внизу в хэдере где ссылка на главную страницу, сделать не просто ссылку а иерархию . главная страница->дескрипторный поиск->запрос->конкретная запись
//открыл details без id -> исключение
Details  открыть не залогиневшись и посмотреть что вернется в ролях
form-control btn btn-default
create edit разделить
//когда ищу люцианом в TempData записывается порезанная версия запроса, исправить
//на страницу редактирование fetext добавить кнопку для просто просмотра записи(выхода из редактирования)
//дескрипторный поиск сломался, почему пока не знаю исправить
actionscontroller -> descriptioninput   вынести оттуда кнопку "поиск" ????
physic controller -> Create  view часть, форма должна полностью рисоваться, но делать ничего не будет тк нет js части, надо сделать как в DescriptionSearch.cshtml
в feactions столбцы которые не используются -- name fizvelsection fizvelchange fizvelleftborder fizvelrightborder

с открытием контекста поаккуратнее, мб посокращать где можно
удаление сущностей из бд
в дескр поиске, все таки открывать 1 контекст?
подтверждение по почте
подумать над поменением контекста в синглтон      , как будет определяться надо ли присоединять к контексту который вернется методом, мб у конекста id есть(хотя ничего не даст)
sql иньекции??
//после полнотекстового поиска в форме запроса отображать текст по которому ведется поиск
когда открывается форма дескрипторного поиска по заполненной ссылке на него, надо форму отрисовывать правильно(по запросу) а не чистую
TODO вынести в функцию(fulltextsearch скрипт) sql server и юзать уже из linq
умеет ли lucene находить главное слово и связные слова?
поискать что кроме томиты умеет так делать, и если реализовывать самому то реально ли
окончание падежей, и связи с другими словами

возможность открыть фото для просмотра
записать названия старых полей возле названий новых комментами что бы ориентироваться
Хранить длину fetext и ограничивать расстояние левинштейна им
в поиске сделать новое окно для параметров поиска(реализовать ползунки????), (количество,качество(сколько % показывать))
показывать результаты поиска только с точностью 80%(+-) а больше показывать по кнопке "показать больше" -> передавать в запросе  новый параметр для снятия ограничения и мб еще от количества тоже скелилось
определять значимые и не значимые слова надо

Попробовать поиск строки с несколькими словами
Сплитить и передавать как в примере
добавление не только в  fetext но и самих дескрипторов , форма в которой по порядку выбираешь и выбираешь добавить новое и тогда уже конкретная форма под пункт, либо выбираешь пункт из уже существующих


репозитории почистить и выбрать ветку, мб удалить все
подумать как переиндексировать бд при занесении новых записей

{ pdf
формирование pdf c#
очень хорошо с кодом и тдтд       https://habr.com/post/112707/  
еще    https://ru.stackoverflow.com/questions/653246/%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D1%82%D1%8C-%D1%84%D0%B0%D0%B9%D0%BB-pdf   
еще    http://lsreg.ru/prostoj-sposob-sozdat-pdf-na-c/
}


{

+ стоп слова   -- если в при этом с этого когда
0.5  -> сейчас в 0 5
формулы dV/V=-b*dF/S   S=10**-3 м**3 при dF=5 Н и b=10**-5 м**2/Н     ломаются

}
при просмотре записи не залогиневшись, выбрасывается исключение, тк попытка получить роли
в запрос передавать не строку а массив мб???

надо при поиске сравнить результаты и понять как сейчас он происходит, отдельные слова\вхождения и тд?????
убирать стопслова, запятые

рефакторинг в lucene , убрать product и др слова
нужна нормализация в поиске+ выпилить передачу в результат поиска из класса всех полей кроме id
строку поиска мб надо сплитить и рассыловать по параметрам как из примера
в phys контроллере  //TODO мб убрать условие, но надо потестить тк там редактирование
методы GET исправить на null id
когда показывается результат запроса поиска, надо форму скрывать и скролить на результат
вынести ajax запрос в отдельный метод и просто юзать его+ в него прелоадер
прелоадер
атрибуты в классы
когда редактируешь и сохраняешь запись fetext отображается страница "просмотр" но линк сверху для редактирования
рефакторинг кода
раскидать все по классам
в списке(поиска++) отображать еще картинку?
валидация на все, что бы нчиего не ломалось+ ограничить дсотуп к методам
можно соократить ссылки при дескр поиске, введя новую таблицу в которой будет столбец в котором коротко описан запрос(мб просто рандомом строки EF)
xhr везде поменять на ajax
//Go_next_step   ->descrinput сейчас id не берет с дока, и вообще надо брать с jsс того объекта
проверить обнуление объекта в котором хранятся данные для передаче дескрипторного запроса js при смене action и клике на кнопку поиска
методы как то скрыть те к которым просто из строки поиска нельзя поучить доступ
//в форме сейчас чекбоксы вообще не работают(и не отправляются, и не дозагружают то что должны)  + некоторые(Пространственные характеристики) ошибку в js оставляют тк пытаются на серв undefined отправить
//поправить лейблы в форме для поиска, сейчас они точно не правильные < возможно нет id и нет value
//при дескр поиске, вход и выход вынести на 1 страницу=> переписать js имена id и тдтд, не обновлять страницу при дескрипторном поиске, но обновлять ссылку
//descriprionSearch отправлять данные для поиска get запросом, что бы адрес запроса отображался
//при дескрипторном поиске чекбоксы не отправляются, и они без id подумать как и получать и отправлять+ поиск по ним
проследить что бы всегда перезаписывались парметры при отправке 1 части формы  data_descr_search.have_input = null;//TODO записсывать потом чистить, такое  descriptionSearch view

работа сайта с выключенным js(насколько возможно)
//GetListSelectedItem    засунуть под обобщение через доп параметр с типом
код->1 стиль
{
//actionpro и тд это не отдельные классы, это таблицы для связи многие ко многим-> крассы выпилить те что остаются переопределить + API + выгрузку из sofi переопределить
проверить
}





{  томита и смежное
томита парсер how to use
 разобраться что это , мб применять https://tech.yandex.ru/mystem/
https://tech.yandex.ru/tomita/
https://github.com/yandex/tomita-parser/


//-----------------------------
падежи без томиты, склонение
http://morpher.ru/Products/DLL/DotNet.aspx    подробно  Morpher.dll 
http://yeaahcode.blogspot.com/2015/01/lingvonet.html   LingvoNET           небольшой кусок кода http://www.cyberforum.ru/csharp-net/thread1127563.html
https://github.com/miyconst/Cyriller     склонение есть nuget


}





{
полнотекстовый поиск через n граммы
сначала "томита парсер от яндекса", бьет запрос на группы(по несколько слов) которые связаны друг с другом по падежу, эти группы уже сравнивать левинштайном

N. Граммы
Томита парсер яндект
Вытащить сущ по падежам
Потом левинштайна По падежам

}

{ левинштайн для определения ошибок
Словарь слов, по нему сравнивать слова запроса левинштацном если 1-2 расхождения то искать его, заменять его в запросе, дальше обычный поиск
WHERE levenshtein("BNNBKF",metaphone)=1
damlevlim("BNNBKF",metaphone,20)=1
}




full text search sql server
{
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
можно указать расстояние между словами при NEAR()    --- where contains(...,'near((word1,word2),count_word)')
where freetext(*,'word1 and word2')   поиск этих слов независимо друг от друга(если будут оба мб ранг будет выше, пока хз), если искать word1 то word1qwe тоже найдется
contains(*,'formsof(inflectional,word1)')   поиск формы слова


select * from
freetexttable(dbo.FeTexts,*,'архимед газ ток')as t join dbo.FeTexts as y on t.[KEY] = y.IDFE order by RANK desc;
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


общая статьяhttps://docs.microsoft.com/ru-ru/sql/relational-databases/search/query-with-full-text-search?view=sql-server-2017
тизаурус, синонимы   https://docs.microsoft.com/ru-ru/sql/relational-databases/search/configure-and-manage-thesaurus-files-for-full-text-search?view=sql-server-2017


немного инфы, но поиск тут так http://dbasimple.blogspot.com/2012/08/ms-sql-server-2008-full-text-search.html
немного инфы, поиск так, но стоит пересмотреть  https://info-comp.ru/sisadminst/486-full-text-search-ms-sql-server.html
тоже стоит посмотреть англ https://www.sqlshack.com/hands-full-text-search-sql-server/


хороший видос(надо смотреть ) https://www.youtube.com/watch?v=hUOwCf61xXo
тоже норм   + тут про тизарус(расположение)            https://www.youtube.com/watch?v=swGn2B1sSMA



///
//проверяем установлено ли
select SERVERPROPERTY('IsFullTextInstalled')
SELECT 'IsFullTextInstalled', SERVERPROPERTY('IsFullTextInstalled')


//создаем каталог
create fulltext catalog DbaFeTextCatalog


// не нужно
alter table dbo.FeTexts add constraint PK_FeTexts_cons primary key clustered(
IDFE
);


//
create fulltext index on [dbo].[FETexts](
Name language  1049,
Text language  1049,
TextInp language  1049,
TextOut language  1049,
TextObj language  1049,
TextApp language  1049,
TextLit language  1049
)
key index [PK_dbo.FeTexts]
on DbaFeTextCatalog
with change_tracking auto;








--declare @ch int  -- проверять существует ли
--@ch  = select SERVERPROPERTY('IsFullTextInstalled')


CREATE FUNCTION[dbo].[initFullTextSearch]()
RETURNS int
AS
BEGIN

create fulltext catalog DbaFeTextCatalog
create fulltext index on [dbo].[FETexts](
Name language  1049,
Text language  1049,
TextInp language  1049,
TextOut language  1049,
TextObj language  1049,
TextApp language  1049,
TextLit language  1049
)
key index [PK_dbo.FeTexts]
on DbaFeTextCatalog
with change_tracking auto;
  RETURN 1
END




CREATE PROC initFullTextSearch 
AS    
create fulltext catalog DbaFeTextCatalog
create fulltext index on [dbo].[FETexts](
Name language  1049,
Text language  1049,
TextInp language  1049,
TextOut language  1049,
TextObj language  1049,
TextApp language  1049,
TextLit language  1049
)
key index [PK_dbo.FeTexts]
on DbaFeTextCatalog
with change_tracking auto;




}















в моделях technical  убрать virtual
Многопоточность в строку подключения к бд

узнать создается ли временная таблица для всех подключений к бд при многопоточности
//классы разобрать + раскоментить связи в классах
//доп таблица для картинок
//дописать методы для переноса старой бд
//определить роли
применить роли
//определить логи
применить логи
добавление записей
поиск декср
поиск текст
редактирование записей
ssl https
download pdf
[ValidateAntiForgeryToken]
@Html.AntiForgeryToken()
//проверить вешается ли роль vip на admin
удаление картинок при редактировании

в header сделать поле для ввода строки поиска, и при скролле вниз что бы оно складывалось в тонкую линию хэдера


@Scripts.Render("~/bundles/jqueryval")   in createInput    99% что такого бандла сейчас нет


ошибка при переиндексации, мб где то еще 
решение SET IDENTITY_INSERT [dbo].[Persons] ON;  //-позволит вставлять с предопределенным id и возможно дублирующимся



!!!!!!!!!!!search
реализация полнотекстового поиска c#
статья с кодом для полнотекстового поиска https://habr.com/post/189806/
sql поиск   https://docs.microsoft.com/ru-ru/sql/relational-databases/search/full-text-search?view=sql-server-2017
http://qaru.site/questions/420668/how-hard-is-it-to-incorporate-full-text-search-with-sql-server


   Lucene.net    

надо посмотреть http://sonyblogpost.blogspot.com/

   длинно, зд                        http://sonyks2007.blogspot.com/2015/04/lucenenet.html
   длинно, зд                        https://www.codeproject.com/Articles/187799/LuceneWrap-A-Compact-Lucene-net-Wrapper
!  коротко основа                 http://www.waveaccess.ru/blog/2014/september/02/%D0%BF%D0%BE%D0%BB%D0%BD%D0%BE%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%B2%D1%8B%D0%B9-%D0%BF%D0%BE%D0%B8%D1%81%D0%BA-%D1%81-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%D0%BC-apache-lucene.aspx
                   https://www.codeproject.com/Articles/609980/Small-Lucene-NET-Demo-App
!  коротко основа                 https://pavelbelousov.wordpress.com/2011/03/20/%D0%B7%D0%BD%D0%B0%D0%BA%D0%BE%D0%BC%D0%B8%D0%BC%D1%81%D1%8F-%D1%81-lucene-net/
!  коротко основа                 https://www.codeproject.com/Articles/29755/Introducing-Lucene-Net
!  видос с кодом  коротко         https://www.youtube.com/watch?v=TnYDeJkULKc
   видос норм, код короткий       https://www.youtube.com/watch?v=Lv2wJRvSddw
   видос норм, код короткий       https://www.youtube.com/watch?v=E7i1krQVRzI
   видос норм, код короткий       https://www.youtube.com/watch?v=F4cB7su-Pyc
!                                 https://csharpdreams.wordpress.com/2012/10/01/simple-search-engine-in-c-with-lucene-net/


 lucene{

PorterStemmer.cs ---      ???       https://lucenenet.apache.org/docs/3.0.3/d7/db1/class_lucene_1_1_net_1_1_analysis_1_1_porter_stemmer.html
под англ, но сам класс и тд мб норм https://lucenenet.apache.org/docs/3.0.3/de/db6/core_2_analysis_2_porter_stemmer_8cs_source.html


что то про подсветку, посомтреть подробнее https://www.sql.ru/forum/547218-2/lucene-stemmer-dlya-russkogo-yazyka

нормализация слова lucene.net
steaming
lucene.net Normalize word
код с форма, хз https://stackoverrun.com/ru/q/7395981
stemming lucene.net
}






sql server semantic search example
семантический поиск sql server пример


https://www.red-gate.com/simple-talk/sql/database-administration/exploring-semantic-search-key-term-relevance/





Sphinx

хз         https://ru.stackoverflow.com/questions/824324/%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%B2%D1%8B%D0%B9-%D0%BF%D0%BE%D0%B8%D1%81%D0%BA-containstable-%D0%B8-%D0%BA%D0%B0%D0%B2%D1%8B%D1%87%D0%BA%D0%B8-%D0%B2-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%B5-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F

???????????????????????????????????
спросить про дескрипторный поиск, как делать так как надо или как в проекте челика
спросить что за 2 входные параметры и выходные, что там вообще в них
логи, что должно храниться
полнотекстовый поиск как реализовывать??   -- sql, Левинштайна, python


????????????????????????????????????????



{  ssl https
https://ru.stackoverflow.com/questions/433491/%D0%9A%D0%B0%D0%BA-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C-%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-mvc-%D0%B4%D0%BB%D1%8F-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-https-%D1%81%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5

pkcs12 -export -in client.pem -inkey client-key.pem -out client.p12 -name "Cert friend name"


pkcs12 -export -in client.pem -inkey client-key.pem -out client.p12 -name "Cert friend name" -certfile CACert.der
pkcs12 -export -in "cert.txt" -inkey "pricate.txt" -out "my-cert.p12" -name "name of cert"

asp.net mvc https
open ssl как сгенерировать сертификат


не работает https://oxozle.com/2013/08/31/nastrojka-ssl-dlya-asp-net-iis-servera/
не пробовал https://www.youtube.com/watch?v=BDbpD2V5aj8
https://www.youtube.com/watch?v=Gj-LL8CnG98



краш
https://www.youtube.com/watch?v=DyfyYRst3bg
genrsa -des3 -out server.key.secure 2048
pass physsofi
}


//слиты бд в 1
//авторизация регистрация
//слиты 3 проекта





#code

SELECT value FROM STRING_SPLIT('Lorem ipsum dolor sit amet.', ' ');








//db copy   error

"доп строки в таблицах"  -в некоторых таблицах id прыгает  1 2 3 10 11 ...

actionPros  actionId не копируется, и начинается с 1 а в старой бд с 208
actions  id  - id с 1 а в old с 134
actionspec actionId с 1 а в old 212
actionvrem actionid 1         212
feindexes    на 30 строк больше получилось хз откуда и почему
fetext    на 30 строк больше

