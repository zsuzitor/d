@model dip.Models.ViewModel.PersonV.PersonalRecordV

@{
    ViewBag.Title = "PersonalRecord";
}

<h2>PersonalRecord</h2>


@Html.Label("id пользователя")
@Html.DisplayFor(x1=>x1.User.Id)
@Html.DisplayFor(x1 => x1.User.Name)
@Html.DisplayFor(x1 => x1.User.UserName)


<hr />

@if (Model.CurrenUserId == Model.User.Id)
{
    @Html.Action("Index", "Manage", new { partial = true })
}



@if (Model.Admin)
{
    <div>
        <div>
            <button onclick="loadRolesUser('@Model.User.Id')">Просмотреть роли</button>
        </div>
        <div id="divRolesUser_id"></div>
    </div>
}


<div>
    <p>Избранное</p>
    <div id="FavouritePhysic_div_but_id">
        <button onclick="loadFavouritePhysic('@Model.User.Id')">Загрузить все</button>
    </div>
    <div id="FavouritePhysic_div_id"></div>

</div>



<script>



    function loadFavouritePhysic(id) {

        document.getElementById('FavouritePhysic_div_but_id').innerHTML = '';
        goAjaxRequest({
            url: '/Person/ListFavouritePhysics',
            type: 'GET',
            data: { id: id },
            func_success: function (data, status, jqXHR) {
                // Заменяем часть представления, отвечающего за отображение значений характеристики
                document.getElementById('FavouritePhysic_div_id').innerHTML = data;
            }
        });

    }

    function loadRolesUser(id) {
       
        goAjaxRequest({
            url: '/Person/GetRoles',
            type: 'GET',
            data: { personId: id },
            func_success: function (data, status, jqXHR) {
                // Заменяем часть представления, отвечающего за отображение значений характеристики
                document.getElementById('divRolesUser_id').innerHTML = data;
            }
        });
    }

</script>