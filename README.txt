
admin@mail.ru  Admin1!  - админ
asa123A@mail.ru  Admin1!  - подтвержденный пользователь
asa123NA@mail.ru  Admin1! - не подтвержденный пользователь

на данный момент я отключил подтверждение почты(насколько понимаю для этого еще некий сервак нужен), поэтому восстановить пароль тоже не получится
все пользователи с ролью администратор имеют равные права


алгоритм действий:
пользователь регистрируется
админ логинется и выдает ему роль(например user)
если выдана не роль админа и не subscriber то админу необходимо выдать новому пользователю ФЭ\спискиФЭ
если все действия выполнены, но пользователь не видет выданные ФЭ, то ему необходимо разлогиниться и войти заново


дескрипторный поиск:
состояния надо указывать явно(если указать POLYFAZ то будет поиск только по нему(без детей))


роли:
user-надо выдавать ФЭ
subscriber-имеет доступ ко всем фэ в остальном тот же user
not approve - не может ничего
admin-может все


списки:
можно создать список, выдать его и потом у пользователя удалить несколько эффектов из этого списка
удалить можно только выданный список

при удалении списка у пользователя, у пользователя пропадет доступ ко всем ФЭ из этого списка(удалятся только те ФЭ которые были у пользователя и были включены в список)
при выдаче списка (он уже может быть у пользователя) ему будут выданы те ФЭ которых у него не было

при удалении(не у пользователя, а при полном) списка у всех пользователей остается доступ к ФЭ которые в него входили
если список выдан и в него добавить\удалить ФЭ то этот ФЭ будет добавлен\удален у всех пользователей которым этот список выдан





-----------------для запуска\хостинга


sql server использую 2014  (782 версия ) но думаю если будет выше ничего не поменяется, ниже - не уверен
sql full text search     - устанавливается вместе с sql server(также можно докачать отдельно насколько помню) - https://www.youtube.com/watch?v=4w85aFZ8bi0
семантическая статистика языка  -установка, на загрузку таже ссылка-  https://docs.microsoft.com/ru-ru/sql/relational-databases/search/install-and-configure-semantic-search?view=sql-server-2017
библиотека для семантического поиска https://www.microsoft.com/ru-RU/download/details.aspx?id=52681
проект на visual studio 2015, можно выше
.NET Framework  4.6 
iis версия которую использую(поднимает 15 студия сама)10.0.14393.0
все остальное(jquery ajax latex обычные файлы(nuget) в самом проекте
latex(уже в проекте, дополнительной установки не требуется): https://github.com/ForNeVeR/wpf-math



-----------------для разработки



временная запись для семантического поиска 1283, ее нельзя просматривать, она наполняется когда необходим поиск и сразу после поиска чистится(не удаляется, очищается свойство text)
id временной записи для сематического поиска у нее нет дескрипторов и text=="---"





при редактировании ФЭ все его части кроме fetext- полностью удаляются из бд и заносятся новые данные




если не обновляется индекс
--ALTER FULLTEXT INDEX on FETexts START UPDATE POPULATION; 
ALTER FULLTEXT INDEX ON FETexts START FULL POPULATION; 
--отключить автоматическое отслеживание 
--ALTER FULLTEXT INDEX ON FETexts SET CHANGE_TRACKING MANUAL;






